{"id":"../node_modules/@projectstorm/react-diagrams-defaults/dist/es/link/DefaultLinkModel.js","dependencies":[{"name":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\dist\\es\\link\\DefaultLinkModel.js.map","includedInParent":true,"mtime":1594481777940},{"name":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\src\\link\\DefaultLinkModel.ts","includedInParent":true,"mtime":1594481777940},{"name":"C:\\myprojects\\groupthink\\Groupthink\\package.json","includedInParent":true,"mtime":1594485675900},{"name":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\package.json","includedInParent":true,"mtime":1594481777940},{"name":"@projectstorm/react-diagrams-core","loc":{"line":4,"column":38},"parent":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\dist\\es\\link\\DefaultLinkModel.js","resolved":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-core\\dist\\es\\index.js"},{"name":"../label/DefaultLabelModel","loc":{"line":5,"column":36},"parent":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\dist\\es\\link\\DefaultLinkModel.js","resolved":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\dist\\es\\label\\DefaultLabelModel.js"},{"name":"@projectstorm/geometry","loc":{"line":6,"column":27},"parent":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\react-diagrams-defaults\\dist\\es\\link\\DefaultLinkModel.js","resolved":"C:\\myprojects\\groupthink\\Groupthink\\node_modules\\@projectstorm\\geometry\\dist\\es\\index.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultLinkModel = void 0;\nconst react_diagrams_core_1 = require(\"@projectstorm/react-diagrams-core\");\nconst DefaultLabelModel_1 = require(\"../label/DefaultLabelModel\");\nconst geometry_1 = require(\"@projectstorm/geometry\");\nclass DefaultLinkModel extends react_diagrams_core_1.LinkModel {\n    constructor(options = {}) {\n        super(Object.assign({ type: 'default', width: options.width || 3, color: options.color || 'gray', selectedColor: options.selectedColor || 'rgb(0,192,255)', curvyness: 50 }, options));\n    }\n    calculateControlOffset(port) {\n        if (port.getOptions().alignment === react_diagrams_core_1.PortModelAlignment.RIGHT) {\n            return [this.options.curvyness, 0];\n        }\n        else if (port.getOptions().alignment === react_diagrams_core_1.PortModelAlignment.LEFT) {\n            return [-this.options.curvyness, 0];\n        }\n        else if (port.getOptions().alignment === react_diagrams_core_1.PortModelAlignment.TOP) {\n            return [0, -this.options.curvyness];\n        }\n        return [0, this.options.curvyness];\n    }\n    getSVGPath() {\n        if (this.points.length == 2) {\n            const curve = new geometry_1.BezierCurve();\n            curve.setSource(this.getFirstPoint().getPosition());\n            curve.setTarget(this.getLastPoint().getPosition());\n            curve.setSourceControl(this.getFirstPoint().getPosition().clone());\n            curve.setTargetControl(this.getLastPoint().getPosition().clone());\n            if (this.sourcePort) {\n                curve.getSourceControl().translate(...this.calculateControlOffset(this.getSourcePort()));\n            }\n            if (this.targetPort) {\n                curve.getTargetControl().translate(...this.calculateControlOffset(this.getTargetPort()));\n            }\n            return curve.getSVGCurve();\n        }\n    }\n    serialize() {\n        return Object.assign(Object.assign({}, super.serialize()), { width: this.options.width, color: this.options.color, curvyness: this.options.curvyness, selectedColor: this.options.selectedColor });\n    }\n    deserialize(event) {\n        super.deserialize(event);\n        this.options.color = event.data.color;\n        this.options.width = event.data.width;\n        this.options.curvyness = event.data.curvyness;\n        this.options.selectedColor = event.data.selectedColor;\n    }\n    addLabel(label) {\n        if (label instanceof react_diagrams_core_1.LabelModel) {\n            return super.addLabel(label);\n        }\n        let labelOb = new DefaultLabelModel_1.DefaultLabelModel();\n        labelOb.setLabel(label);\n        return super.addLabel(labelOb);\n    }\n    setWidth(width) {\n        this.options.width = width;\n        this.fireEvent({ width }, 'widthChanged');\n    }\n    setColor(color) {\n        this.options.color = color;\n        this.fireEvent({ color }, 'colorChanged');\n    }\n}\nexports.DefaultLinkModel = DefaultLinkModel;\n"},"sourceMaps":{"js":{"version":3,"file":"DefaultLinkModel.js","sourceRoot":"","sources":["../../../src/link/DefaultLinkModel.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tDiagramEngine,\n\tLabelModel,\n\tLinkModel,\n\tLinkModelGenerics,\n\tLinkModelListener,\n\tPortModel,\n\tPortModelAlignment\n} from '@projectstorm/react-diagrams-core';\nimport { DefaultLabelModel } from '../label/DefaultLabelModel';\nimport { BezierCurve } from '@projectstorm/geometry';\nimport { BaseEntityEvent, BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\n\nexport interface DefaultLinkModelListener extends LinkModelListener {\n\tcolorChanged?(event: BaseEntityEvent<DefaultLinkModel> & { color: null | string }): void;\n\n\twidthChanged?(event: BaseEntityEvent<DefaultLinkModel> & { width: 0 | number }): void;\n}\n\nexport interface DefaultLinkModelOptions extends BaseModelOptions {\n\twidth?: number;\n\tcolor?: string;\n\tselectedColor?: string;\n\tcurvyness?: number;\n\ttype?: string;\n\ttestName?: string;\n}\n\nexport interface DefaultLinkModelGenerics extends LinkModelGenerics {\n\tLISTENER: DefaultLinkModelListener;\n\tOPTIONS: DefaultLinkModelOptions;\n}\n\nexport class DefaultLinkModel extends LinkModel<DefaultLinkModelGenerics> {\n\tconstructor(options: DefaultLinkModelOptions = {}) {\n\t\tsuper({\n\t\t\ttype: 'default',\n\t\t\twidth: options.width || 3,\n\t\t\tcolor: options.color || 'gray',\n\t\t\tselectedColor: options.selectedColor || 'rgb(0,192,255)',\n\t\t\tcurvyness: 50,\n\t\t\t...options\n\t\t});\n\t}\n\n\tcalculateControlOffset(port: PortModel): [number, number] {\n\t\tif (port.getOptions().alignment === PortModelAlignment.RIGHT) {\n\t\t\treturn [this.options.curvyness, 0];\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.LEFT) {\n\t\t\treturn [-this.options.curvyness, 0];\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.TOP) {\n\t\t\treturn [0, -this.options.curvyness];\n\t\t}\n\t\treturn [0, this.options.curvyness];\n\t}\n\n\tgetSVGPath(): string {\n\t\tif (this.points.length == 2) {\n\t\t\tconst curve = new BezierCurve();\n\t\t\tcurve.setSource(this.getFirstPoint().getPosition());\n\t\t\tcurve.setTarget(this.getLastPoint().getPosition());\n\t\t\tcurve.setSourceControl(this.getFirstPoint().getPosition().clone());\n\t\t\tcurve.setTargetControl(this.getLastPoint().getPosition().clone());\n\n\t\t\tif (this.sourcePort) {\n\t\t\t\tcurve.getSourceControl().translate(...this.calculateControlOffset(this.getSourcePort()));\n\t\t\t}\n\n\t\t\tif (this.targetPort) {\n\t\t\t\tcurve.getTargetControl().translate(...this.calculateControlOffset(this.getTargetPort()));\n\t\t\t}\n\t\t\treturn curve.getSVGCurve();\n\t\t}\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\twidth: this.options.width,\n\t\t\tcolor: this.options.color,\n\t\t\tcurvyness: this.options.curvyness,\n\t\t\tselectedColor: this.options.selectedColor\n\t\t};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.color = event.data.color;\n\t\tthis.options.width = event.data.width;\n\t\tthis.options.curvyness = event.data.curvyness;\n\t\tthis.options.selectedColor = event.data.selectedColor;\n\t}\n\n\taddLabel(label: LabelModel | string) {\n\t\tif (label instanceof LabelModel) {\n\t\t\treturn super.addLabel(label);\n\t\t}\n\t\tlet labelOb = new DefaultLabelModel();\n\t\tlabelOb.setLabel(label);\n\t\treturn super.addLabel(labelOb);\n\t}\n\n\tsetWidth(width: number) {\n\t\tthis.options.width = width;\n\t\tthis.fireEvent({ width }, 'widthChanged');\n\t}\n\n\tsetColor(color: string) {\n\t\tthis.options.color = color;\n\t\tthis.fireEvent({ color }, 'colorChanged');\n\t}\n}\n"]}},"error":null,"hash":"ace1b5c1cf6f081dd91b2d638c9b4c38","cacheData":{"env":{}}}